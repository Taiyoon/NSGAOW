digraph G {
    splines = "FALSE";
    rankdir = LR;
    Q3 -> sv4 [lhead = "cluster_ss3";];
    sv4 -> s5 [style = invis;];
    Q2 -> sv3 [lhead = "cluster_ss2";];
    sv3 -> s3 [style = invis;];
    Q1 -> sv1 [lhead = "cluster_ss1";];
    sv1 -> s1 [style = invis;];
    subgraph cluster_ss1 {
        label = "Q1的虚拟队列";
        sv1 [label = "s1:vm1";];
        sv2 [label = "s2:vm2";];
    }
    subgraph cluster_ss2 {
        label = "Q2的虚拟队列";
        sv3 [label = "s3:vm1";];
    }
    subgraph cluster_ss3 {
        label = "Q3的虚拟队列";
        sv4 [label = "s4:vm1<->vm3";];
        sv5 [label = "s5:vm2<->vm3";];
    }
    subgraph cluster_vm1 {
        label = "pub_vm1";
        s1 [label = "s1";];
        s2 [label = "s4";];
    }
    subgraph cluster_vm2 {
        label = "pub_vm2";
        s3 [label = "s2";];
        s4 [label = "s5";];
    }
    subgraph cluster_vm3 {
        label = "priv_vm3";
        s5 [label = "s3";];
        s6 [label = "s4";];
        s7 [label = "s5";];
    }
}